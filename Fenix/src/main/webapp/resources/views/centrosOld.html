<div class="container">

		<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyBrrfCQ2ofedTo5ahw0EzhJ4q0YIxMpmVE&v=3.exp&sensor=false"></script>

    	<div class="card"  data-ng-controller="tablaCentros as centrosCtr">
                <div class="card-header ch-alt m-b-20">
                    <h2>Centros<small>Lista de centros</small></h2>
                    <ul class="actions">
                        <li>
                            <a href="" ng-click="refrescar()">
                                <i class="zmdi zmdi-refresh-alt"></i>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-download"></i>
                            </a>
                        </li>
                    </ul>

    	    	<script type="text/ng-template" id="myModalContent.html">
                <div class="modal-header">
                    <h4 class="modal-title">Nuevo centro</h4>
                </div>
                <div class="modal-body">

				<form name="myForm" class="form-horizontal" novalidate>

                      <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.nombre.$invalid  && !myForm.nombre.$pristine, 'has-success': myForm.nombre.$invalid && !myForm.nombre.$pristine}">
                              <label class="col-md-2 control-lable" for="nombre">Nombre *</label>
                              <div class="col-md-7">
                                  <input type="text" ng-model="modalContent.nuevoCentro.centro.nombre" id="nombre" name="nombre" class="username form-control input-sm" placeholder="Introduce el nombre" required ng-minlength="3"/>
								   <p ng-show="myForm.nombre.$invalid" class="help-block">
									Este campo es obligatorio
							      </p>
                              </div>
                          </div>
                      </div>
 
                      <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.correo.$invalid && !myForm.correo.$pristine, 'has-success': myForm.correo.$invalid && !myForm.correo.$pristine}">
                              <label class="col-md-2 control-lable" for="correo">Correo Administrador*</label>
                              <div class="col-md-7">
                                  <input type="email" ng-model="modalContent.nuevoCentro.centro.correoAdmin" id="correo" name="correo" class="email form-control input-sm" placeholder="Introduce el e-mail" required/>
								  <p ng-show="myForm.correo.$invalid && !myForm.correo.$pristine" class="help-block">
									<span ng-show="myForm.correo.$error.required">Este campo es obligatorio</span>
									<span ng-show="myForm.correo.$error.email">Debes escribir un correo valido</span>
							      </p>
                              </div>
                          </div>
                      </div>

					  <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.nombreAdmin.$invalid  && !myForm.nombreAdmin.$pristine, 'has-success': myForm.nombreAdmin.$invalid && !myForm.nombreAdmin.$pristine}">
                              <label class="col-md-2 control-lable" for="nombreAdmin">Nombre Administrador*</label>
                              <div class="col-md-7">
                                  <input type="text" ng-model="modalContent.nuevoCentro.nombreAdmin" id="nombreAdmin" name="nombreAdmin" class="username form-control input-sm" placeholder="Introduce el nombre" required ng-minlength="3"/>
								   <p ng-show="myForm.nombreAdmin.$invalid" class="help-block">
									Este campo es obligatorio
							      </p>
                              </div>
                          </div>
                      </div>

 				      <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.correo.$invalid && !myForm.correo.$pristine, 'has-success': myForm.correo.$invalid && !myForm.correo.$pristine}">
                              <label class="col-md-2 control-lable" for="ubicacion">Ubicación*</label>
                              <div class="col-md-7">                                  
							      <input type="text" name="ubicacion" ng-model="asyncSelected" placeholder="Dirección" typeahead-wait-ms="150" typeahead-on-select="modalContent.setUbicacion($item, $model)" uib-typeahead="address.formatted_address for address in modalContent.getUbicacion($viewValue)" typeahead-loading="Cargando" class="form-control">
                              </div>
                          </div>
                      </div>   

				<div class="row">
					<label class="col-md-2 control-lable" for="tipo">Tipo*</label>
					<div class="col-md-7">                                  
						<select chosen class="w-100" ng-model="modalContent.nuevoCentro.centro.tipo" data-placeholder="Tipoj de centro" name="tipo">
								<option value="0">Belleza y cuidado personal</option>
								<option value="1">Sanidad</option>
						</select>
					</div>
				</div>

					<div class="modal-footer">
						<button class="btn bgm-blue btn-lg" ng-click="modalContent.guardar()" ng-disabled="myForm.$invalid">
							Guardar
						</button> 
                    	<button class="btn bgm-red btn-lg" ng-click="cancel()">Cancelar</button>
                	</div>
                  </form>

                </div>
                
                </script>
                    <button class="btn bgm-red btn-float waves-effect" ng-click="nuevo()"><i class="zmdi zmdi-plus"></i></button>
                </div>
                
                <div class="card-body ">
                    <div class="table-responsive">
		                <table ng-table="centrosCtr.tabla" class="table table-striped table-vmiddle hover">
		                    <tr ng-repeat="w in centrosCtr.datos"  >
		                        <td data-title="'Nombre'">
		                            {{ w.nombre }}
		                        </td>
		                        <td data-title="'Correo'">
		                            {{ w.correoAdmin }}
		                        </td>
		                        <td data-title="'Poblacion'">
		                            {{ w.ubicacion.poblacion }}
		                        </td>
		                        <td data-title="'Tipo'">
		                            {{ w.tipo }}
		                        </td>
		                        <td data-title="'Acciones'">
		                            <button type="button" class="btn btn-warning" ng-click="enviarMail(w)"><i class="zmdi zmdi-email"></i></button>
		                            <button type="button" class="btn btn-danger" ng-click="eliminar(w)"><i class="zmdi zmdi-delete"></i></button>
		                        </td>
		                    </tr>
		                </table>
		            </div>
                </div>
      </div>       
</div>



<div class="container">

    <div class="block-header">
        <h2>Data Tables<small>ng-table is a powerfull AngularJs ready Data Table with tons of customizable options. Read more <a target="_blank" href="http://ng-table.com/#/">here</a> for detailed documentation and HowTos...</small></h2>

        <ul class="actions m-t-20 hidden-xs">
            <li class="dropdown" uib-dropdown>
                <a href="" uib-dropdown-toggle>
                    <i class="zmdi zmdi-more-vert"></i>
                </a>

                <ul class="dropdown-menu dropdown-menu-right">
                    <li>
                        <a href="">Privacy Settings</a>
                    </li>
                    <li>
                        <a href="">Account Settings</a>
                    </li>
                    <li>
                        <a href="">Other Settings</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    
    <div class="card"  data-ng-controller="tablaUsuarios as tUsuarioCtr">
                <div class="card-header ch-alt m-b-20">
                    <h2>Usuarios<small>Lista de usuarios registrados</small></h2>
                    <ul class="actions">
                        <li>
                            <a href="" ng-click="refrescar()">
                                <i class="zmdi zmdi-refresh-alt"></i>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-download"></i>
                            </a>
                        </li>
                    </ul>
                </div>


                <div class="card-body card-padding">
                    <div class="table-responsive">
		                <table ng-table="tUsuarioCtr.tabla" class="table table-striped table-vmiddle"  ng-init="setTodos(false);setCentroSesion()">
		                    <tr ng-repeat="w in tUsuarioCtr.datos"  >
		                        <td data-title="'Nombre'">
		                            {{ w.nombre }}
		                        </td>
		                        <td data-title="'Correo'">
		                            {{ w.correo }}
		                        </td>
		                        <td data-title="'Admin'">
				                      <div class="checkbox pull-left">
				                       <label>
				                           <input type="checkbox" data-ng-checked="w.admin" value="" readonly>
				                           <i class="input-helper"></i>
				                       </label>
				                   </div>	             
				                </td> 
		                        <td data-title="'Acciones'">
		                            <button type="button" class="btn btn-danger" ng-click="eliminar(w)"><i class="zmdi zmdi-delete"></i></button>
		                        </td>
		                    </tr>
		                </table>
		            </div>
                </div>
      </div>
    
    
    	<div class="card"  data-ng-controller="tablaUsuarioPendiente as tPendienteCtr">
                <div class="card-header ch-alt m-b-20">
                    <h2>Usuarios por confirmar<small>Lista de usuarios pendientes de confirmar registro</small></h2>
                    <ul class="actions">
                        <li>
                            <a href="" ng-click="refrescar()">
                                <i class="zmdi zmdi-refresh-alt"></i>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-download"></i>
                            </a>
                        </li>
                    </ul>

    	    	<script type="text/ng-template" id="myModalContent.html">
                <div class="modal-header">
                    <h4 class="modal-title">Nuevo usuario</h4>
                </div>
                <div class="modal-body">

				<form name="myForm" class="form-horizontal" novalidate>

                      <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.nombre.$invalid  && !myForm.nombre.$pristine, 'has-success': myForm.nombre.$invalid && !myForm.nombre.$pristine}">
                              <label class="col-md-2 control-lable" for="nombre">Nombre *</label>
                              <div class="col-md-7">
                                  <input type="text" ng-model="modalContent.usuario.nombre" id="nombre" name="nombre" class="username form-control input-sm" placeholder="Introduce el nombre" required ng-minlength="3"/>
								   <p ng-show="myForm.nombre.$invalid" class="help-block">
									Este campo es obligatorio
							      </p>
                              </div>
                          </div>
                      </div>
 
                      <div class="row">
                          <div class="form-group col-md-12" ng-class="{ 'has-error' : myForm.correo.$invalid && !myForm.correo.$pristine, 'has-success': myForm.correo.$invalid && !myForm.correo.$pristine}">
                              <label class="col-md-2 control-lable" for="correo">Correo *</label>
                              <div class="col-md-7">
                                  <input type="email" ng-model="modalContent.usuario.correo" id="correo" name="correo" class="email form-control input-sm" placeholder="Introduce el e-mail" required/>
								  <p ng-show="myForm.correo.$invalid && !myForm.correo.$pristine" class="help-block">
									<span ng-show="myForm.correo.$error.required">Este campo es obligatorio</span>
									<span ng-show="myForm.correo.$error.email">Debes escribir un correo valido</span>
							      </p>
                              </div>
                          </div>
                      </div>

					<div class="modal-footer">
						<button class="btn bgm-blue btn-lg" ng-click="modalContent.guardar()" ng-disabled="myForm.$invalid">
							Guardar
						</button> 
                    	<button class="btn bgm-red btn-lg" ng-click="cancel()">Cancelar</button>
                	</div>
                  </form>

                </div>
                
                </script>
                    <button class="btn bgm-red btn-float waves-effect" ng-click="nuevo()"><i class="zmdi zmdi-plus"></i></button>
                </div>


                <div class="card-body card-padding">
                    <div class="table-responsive">
		                <table ng-table="tPendienteCtr.tabla" class="table table-striped table-vmiddle">
		                    <tr ng-repeat="w in tPendienteCtr.datos"  >
		                        <td data-title="'Nombre'">
		                            {{ w.nombre }}
		                        </td>
		                        <td data-title="'Correo'">
		                            {{ w.correo }}
		                        </td>
		                        <td data-title="'Fecha envio email'">
		                            {{ w.fechaEnvio }}
		                        </td>
		                        <td data-title="'Acciones'">
		                            <button type="button" class="btn btn-warning" ng-click="enviarMail(w)"><i class="zmdi zmdi-email"></i></button>
		                            <button type="button" class="btn btn-danger" ng-click="eliminar(w)"><i class="zmdi zmdi-delete"></i></button>
		                        </td>
		                    </tr>
		                </table>
		            </div>
                </div>
      </div>       
</div>



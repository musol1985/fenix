materialAdmin.service("centroService",["$http","$q",function(a,b){this.nuevoCentro=function(c){var d=b.defer();return a.post("centro/nuevo",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.getAll=function(){var c=b.defer();return a.get("centro/all").then(function(a){c.resolve(a.data)},function(a){console.error("Error while fetching Users"),c.reject(a)}),c.promise}}]),materialAdmin.service("citaService",["$http","$q",function(a,b){this.nueva=function(c){var d=b.defer();return a.put("cita",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while creating cita"),d.reject(a)}),d.promise}}]),materialAdmin.service("clienteService",["$http","$q",function(a,b){this.buscar=function(c,d){var e=b.defer();return a.post("cliente/buscar",{texto:c,centro:d}).then(function(a){var b=a.data.map(function(a){return a.texto=a.nombre+" "+a.apellidos+", "+a.dni+", "+a.telefono,a});console.log(b),0==b.length&&(b=[{texto:"No se ha encontrado. Pulsa enter para crear uno nuevo",id:-1,busqueda:c}]),console.log(b),e.resolve(b)},function(a){console.error("Error cliente.getByCentro"),e.reject(a)}),e.promise},this.nuevo=function(c){var d=b.defer();return a.put("cliente",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error creando un cliente"),d.reject(a)}),d.promise},this.modificar=function(c){var d=b.defer();return a.post("cliente",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error modificando una prestacion"),d.reject(a)}),d.promise}}]),materialAdmin.service("prestacionService",["$http","$q",function(a,b){this.getByCentro=function(c,d,e){var f=b.defer();return a.get("prestacion/"+c+"/"+d+"/"+e).then(function(a){f.resolve(a.data)},function(a){console.error("Error prestacion.getByCentro"),f.reject(a)}),f.promise},this.getAllByCentro=function(c){var d=b.defer();return a.get("prestacion/all/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error prestacion.getByCentro"),d.reject(a)}),d.promise},this.get=function(c){var d=b.defer();return a.get("prestacion/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error prsestacion.get"),d.reject(a)}),d.promise},this.nueva=function(c){var d=b.defer();return a.put("prestacion",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error creando una prestacion"),d.reject(a)}),d.promise},this.modificar=function(c){var d=b.defer();return a.post("prestacion",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error modificando una prestacion"),d.reject(a)}),d.promise},this.eliminar=function(c){var d=b.defer();return a.delete("prestacion/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error eliminando una prestacion"),d.reject(a)}),d.promise}}]),materialAdmin.service("ubicacionService",["$http","$q",function(a,b){this.getUbicacion=function(b){return a.get("//maps.googleapis.com/maps/api/geocode/json",{params:{address:b,sensor:!1}}).then(function(a){return a.data.results.map(function(a){return a})})},this.setUbicacion=function(a,b,c,d){console.log(a);var e={},f={};return angular.forEach(a.address_components,function(a){var b={};angular.forEach(a,function(a,c){"types"==c&&(a.indexOf("locality")>-1?b.tipo="poblacion":a.indexOf("route")>-1?b.tipo="calle":a.indexOf("street_number")>-1?b.tipo="numero":a.indexOf("administrative_area_level_2")>-1?b.tipo="provincia":a.indexOf("postal_code")>-1?b.tipo="CP":a.indexOf("country")>-1&&(b.tipo="pais")),"short_name"==c&&(b.valor=a)}),"poblacion"==b.tipo?f.poblacion=b.valor:"calle"==b.tipo?f.calle=b.valor:"numero"==b.tipo?f.numero=b.valor:"provincia"==b.tipo?f.provincia=b.valor:"CP"==b.tipo?f.CP=b.valor:"pais"==b.tipo&&(f.pais=b.valor)}),f.id=a.place_id,e.direccion=f,e.posicion=a.geometry.location,console.log(e),e}}]),materialAdmin.service("userService",["$http","$q",function(a,b){var c=this;this.current={},this.getCurrentUser=function(){var d=b.defer();return a.get("usuario/current").then(function(a){c.current=a.data,d.resolve(a.data)},function(a){c.current={},console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.getCentro=function(){return this.current.centro},this.getAll=function(c,d){var e=b.defer();return a.get("usuario/all/"+c+"/"+d).then(function(a){e.resolve(a.data)},function(a){console.error("Error while fetching Users"),e.reject(a)}),e.promise},this.getByCentro=function(c,d,e){var f=b.defer();return a.get("usuario/"+e+"/"+c+"/"+d).then(function(a){f.resolve(a.data)},function(a){console.error("Error while fetching Users"),f.reject(a)}),f.promise},this.getAllByCentro=function(c,d,e){var f=b.defer();return a.get("usuario/all/"+e+"/"+c+"/"+d).then(function(a){f.resolve(a.data)},function(a){console.error("Error while fetching Users"),f.reject(a)}),f.promise},this.getListaByCentro=function(c){var d=b.defer();return a.get("usuario/lista/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.getPendientes=function(c,d,e){var f=b.defer();return a.get("usuario/pendientes/"+e+"/"+c+"/"+d).then(function(a){f.resolve(a.data)},function(a){console.error("Error while fetching Users"),f.reject(a)}),f.promise},this.nuevoPendiente=function(c){var d=b.defer();return a.post("usuario/pendiente",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.registrar=function(c){var d=b.defer();return a.post("usuario/registrar",c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.eliminarPendiente=function(c){var d=b.defer();return a.delete("usuario/pendiente/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.eliminar=function(c){var d=b.defer();return a.delete("usuario/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise},this.enviarCorreo=function(c){var d=b.defer();return a.get("usuario/pendiente/correo/"+c).then(function(a){d.resolve(a.data)},function(a){console.error("Error while fetching Users"),d.reject(a)}),d.promise}}]);